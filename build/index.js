const burger=document.querySelector(".burger"),header=document.querySelector(".header"),nav=document.querySelector(".nav"),links=nav.querySelectorAll(".nav__link"),banner=document.querySelector(".banner"),headerHight=header.offsetHeight,body=document.body;burger.addEventListener("click",(e=>{burger.classList.toggle("burger--active"),nav.classList.toggle("nav--active"),banner.classList.toggle("banner--active"),e.target.classList.contains("burger--active")?scrollbarOff():scrollbarOn()})),links.forEach((e=>{e.addEventListener("click",(()=>{burger.classList.remove("burger--active"),nav.classList.remove("nav--active"),banner.classList.remove("banner--active"),body.classList.remove("stop-scroll"),scrollbarOn()}))})),window.addEventListener("scroll",(()=>{window.scrollY>=headerHight?header.classList.add("header--scroll"):header.classList.remove("header--scroll")}));const form=document.querySelector(".form"),telSelector=form.querySelector('input[type="tel"]'),inputMask=new Inputmask("+7 (999) 999-99-99");inputMask.mask(telSelector);const validator=new window.JustValidate(form,{errorLabelStyle:{color:"#aeff0f"}});validator.addField(".input-name",[{rule:"required",errorMessage:"Введите имя"},{rule:"minLength",value:2,errorMessage:"Введите 3 и более символов"},{rule:"maxLength",value:15,errorMessage:"Запрещено вводить более 15 символов"}]).addField(".input-mail",[{rule:"required",errorMessage:"Введите e-mail"},{rule:"customRegexp",value:/[^@\s]+@[^@\s]+\.[^@\s]+/,errorMessage:"Адрес должен быть валидным (example@email.com)"}]).addField(".input-tel",[{rule:"required",errorMessage:"Введите телефон"},{rule:"function",validator:function(){return 10===telSelector.inputmask.unmaskedvalue().length},errorMessage:"Здесь должно быть 10 символов"}]).onSuccess((e=>{let r=new FormData(e.target),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState){let e;200===l.status?(e="Спасибо!<br>Ваша заявка отправлена.",showModal(e)):(e="Заявка не была отправлена!<br>Попробуйте снова.",showModal(e))}},l.open("POST","./php/mail.php",!0),l.send(r),e.target.reset()}));const modalsOverlay=document.querySelector(".modals__overlay"),modal=document.querySelector(".modals__modal"),modalText=document.querySelector(".modals__text");function showModal(e){modalText.innerHTML=e,modal.classList.add("modals__modal--visible"),modalsOverlay.classList.add("modals__overlay--visible"),scrollbarOff()}modalsOverlay.addEventListener("click",(e=>{modal.classList.remove("modals__modal--visible"),modalsOverlay.classList.remove("modals__overlay--visible"),scrollbarOn()}));var{OverlayScrollbars:OverlayScrollbars,ScrollbarsHidingPlugin:ScrollbarsHidingPlugin,SizeObserverPlugin:SizeObserverPlugin,ClickScrollPlugin:ClickScrollPlugin}=OverlayScrollbarsGlobal;const overlayScrollbar=OverlayScrollbars(document.querySelector("body"),{scrollbars:{theme:"os-theme-light"}});function scrollbarOff(){overlayScrollbar.options({overflow:{x:"hidden",y:"hidden"}})}function scrollbarOn(){overlayScrollbar.options({overflow:{x:"scroll",y:"scroll"}})}const swiper=new Swiper(".swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},grabCursor:!0,speed:1300,slidesPerView:2,loop:!0,slidesPerGroup:2,spaceBetween:10,breakpoints:{320:{slidesPerView:1,slidesPerGroup:1},480:{slidesPerView:1,slidesPerGroup:1},767:{slidesPerView:2}}}),slidesTextArr=["Реконструкция ограждения для нужд филиал ГУП &laquo;Пассажиравтотранс&raquo;","Выполнение проектно-изыскательных работ по&nbsp;адресу: г. Псков, для филиала &laquo;Северо-Западный&raquo; АО&nbsp;&laquo;Оборонэнерго&raquo;. Фундамент прожекторной мачты ПМС- 24.0.","Амфитеатр с&nbsp;малыми архитектурными формами и&nbsp;ограждениями. МФК Лахта-центр","Сигнальные столбики со&nbsp;светоотражающим элементом","Сборный косоур&nbsp;ЛБ лестничных сходов.&nbsp;г. Псков","&laquo;Многофункциональный оптово-логистический складской комплекс&raquo; Столбчатый фундамент ФСт-3.2","Строительство детского спортивного комплекса&nbsp;г. Колпино","ПАО &laquo;Северсталь&raquo;, Россия,Волгоградская область, Шекснинский район, Индустриальный парк &laquo;Шексна&raquo;","Выполнение проектно-изыскательных работ по&nbsp;адресу: г. Псков, для филиала &laquo;Северо-Западный&raquo; АО&nbsp;&laquo;Оборонэнерго&raquo;. Фундамент прожекторной мачты ПМС- 24.0."],slideText=document.querySelector(".swiper__text");let indexText=0;slideText.innerHTML=slidesTextArr[indexText],swiper.on("transitionEnd",(function(){let e=document.querySelector(".swiper-slide-active");+e.dataset.id!==indexText&&(slideText.classList.add("swiper__text--black"),setTimeout((()=>{slideText.innerHTML=slidesTextArr[e.dataset.id],slideText.classList.remove("swiper__text--black")}),1e3),indexText=+e.dataset.id)}));